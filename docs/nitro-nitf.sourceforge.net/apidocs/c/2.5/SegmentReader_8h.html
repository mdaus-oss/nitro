<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>NITF: SegmentReader.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>SegmentReader.h File Reference</h1><code>#include &quot;<a class="el" href="IOInterface_8h-source.html">nitf/IOInterface.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="System_8h-source.html">nitf/System.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="Error_8h-source.html">nitf/Error.h</a>&quot;</code><br>

<p>
<a href="SegmentReader_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__nitf__SegmentReader.html">_nitf_SegmentReader</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">nitf_SegmentReader - Reader object for reading Segments  <a href="struct__nitf__SegmentReader.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="struct__nitf__SegmentReader.html">_nitf_SegmentReader</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="SegmentReader_8h.html#a34ac51acbbfd5b5be2f924c8c2ab7db">nitf_SegmentReader</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">nitf_SegmentReader - Reader object for reading Segments  <a href="SegmentReader_8h.html#a34ac51acbbfd5b5be2f924c8c2ab7db"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">NITF_BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="SegmentReader_8h.html#1fe6499ba1e189f6936d8a50d6c5aa19">nitf_SegmentReader_read</a> (<a class="el" href="struct__nitf__SegmentReader.html">nitf_SegmentReader</a> *segmentReader, <a class="el" href="Types_8h.html#48f43327ee32e0535be07a7e945b13c4">NITF_DATA</a> *buffer, size_t count, <a class="el" href="structnitf__Error.html">nitf_Error</a> *<a class="el" href="TREPrivateData_8h.html#18b2842cfb79f2fc6efd1309284f69b5">error</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">nitf_SegmentReader_read - Read segment data  <a href="SegmentReader_8h.html#1fe6499ba1e189f6936d8a50d6c5aa19"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="Types_8h.html#66716152d01135736bc6b7d2c416cd60">nitf_Off</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="SegmentReader_8h.html#3a5d9ec9bfe2391ccdf5df20bfc85b1a">nitf_SegmentReader_seek</a> (<a class="el" href="struct__nitf__SegmentReader.html">nitf_SegmentReader</a> *segmentReader, <a class="el" href="Types_8h.html#66716152d01135736bc6b7d2c416cd60">nitf_Off</a> <a class="el" href="ImageIO_8h.html#d065b6a2611dd4295ad85bbc9ed8214b">offset</a>, int whence, <a class="el" href="structnitf__Error.html">nitf_Error</a> *<a class="el" href="TREPrivateData_8h.html#18b2842cfb79f2fc6efd1309284f69b5">error</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">nitf_SegmentReader_seek - Seek in segment data  <a href="SegmentReader_8h.html#3a5d9ec9bfe2391ccdf5df20bfc85b1a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="Types_8h.html#66716152d01135736bc6b7d2c416cd60">nitf_Off</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="SegmentReader_8h.html#7f9b1320044ce205570cad8e2d700519">nitf_SegmentReader_tell</a> (<a class="el" href="struct__nitf__SegmentReader.html">nitf_SegmentReader</a> *segmentReader, <a class="el" href="structnitf__Error.html">nitf_Error</a> *<a class="el" href="TREPrivateData_8h.html#18b2842cfb79f2fc6efd1309284f69b5">error</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">nitf_SegmentReader_tell - Tell location in segment data  <a href="SegmentReader_8h.html#7f9b1320044ce205570cad8e2d700519"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="Types_8h.html#66716152d01135736bc6b7d2c416cd60">nitf_Off</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="SegmentReader_8h.html#6b57431c02e72dcc678ace9fa8c8ddce">nitf_SegmentReader_getSize</a> (<a class="el" href="struct__nitf__SegmentReader.html">nitf_SegmentReader</a> *segmentReader, <a class="el" href="structnitf__Error.html">nitf_Error</a> *<a class="el" href="TREPrivateData_8h.html#18b2842cfb79f2fc6efd1309284f69b5">error</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">nitf_SegmentReader_getSize - Determine size of the data  <a href="SegmentReader_8h.html#6b57431c02e72dcc678ace9fa8c8ddce"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="SegmentReader_8h.html#9b3c8d3e1cd154e3bfa9143de37ba248">nitf_SegmentReader_destruct</a> (<a class="el" href="struct__nitf__SegmentReader.html">nitf_SegmentReader</a> **segmentReader)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">nitf_SegmentReader_destruct - Destructor for the SegmentReader object  <a href="SegmentReader_8h.html#9b3c8d3e1cd154e3bfa9143de37ba248"></a><br></td></tr>
</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="a34ac51acbbfd5b5be2f924c8c2ab7db"></a><!-- doxytag: member="SegmentReader.h::nitf_SegmentReader" ref="a34ac51acbbfd5b5be2f924c8c2ab7db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__nitf__SegmentReader.html">_nitf_SegmentReader</a>
 <a class="el" href="struct__nitf__SegmentReader.html">nitf_SegmentReader</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
nitf_SegmentReader - Reader object for reading Segments 
<p>
The nitf_SegmentReader object provides support for reading segment data. A simple byte stream oriented model is provided that presents the data as a self- contained, flat file of bytes. Seeking within the virtual file is permitted.<p>
The segment reader uses the IOHandle supplied (and retained) by the Reader during the nitf_Reader_read call which must precede the use of the segment reader. The user must not use this IOHandle during the read of the data. The file position of this handle is maintained by the segment reader and it may not move in a way that is consistent with the movement of the pointer in the virtual file.<p>
The constructor for this object is a method of the <a class="el" href="structnitf__Reader.html" title="This object represents the 2.1 file reader.">nitf_Reader</a> object. The methods available are: nitf_Reader_newTextReader nitf_Reader_newGraphicReader<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>input</em>&nbsp;</td><td>The input interface </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dataLength</em>&nbsp;</td><td>The length of the user data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>baseOffset</em>&nbsp;</td><td>Offset to the start of data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>virtualOffset</em>&nbsp;</td><td>current offset (within this region) </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="9b3c8d3e1cd154e3bfa9143de37ba248"></a><!-- doxytag: member="SegmentReader.h::nitf_SegmentReader_destruct" ref="9b3c8d3e1cd154e3bfa9143de37ba248" args="(nitf_SegmentReader **segmentReader)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nitf_SegmentReader_destruct           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__nitf__SegmentReader.html">nitf_SegmentReader</a> **&nbsp;</td>
          <td class="paramname"> <em>segmentReader</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
nitf_SegmentReader_destruct - Destructor for the SegmentReader object 
<p>
nitf_SegmentReader_destruct is the destructor for the SegmentReader object. This function does not close the associated file handle.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>None </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>segmentReader</em>&nbsp;</td><td>Associated SegmentReader </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="6b57431c02e72dcc678ace9fa8c8ddce"></a><!-- doxytag: member="SegmentReader.h::nitf_SegmentReader_getSize" ref="6b57431c02e72dcc678ace9fa8c8ddce" args="(nitf_SegmentReader *segmentReader, nitf_Error *error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Types_8h.html#66716152d01135736bc6b7d2c416cd60">nitf_Off</a> nitf_SegmentReader_getSize           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__nitf__SegmentReader.html">nitf_SegmentReader</a> *&nbsp;</td>
          <td class="paramname"> <em>segmentReader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnitf__Error.html">nitf_Error</a> *&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
nitf_SegmentReader_getSize - Determine size of the data 
<p>
The nitf_SegmentReader_seek function allows the user to determine the size of the data. Except for the first argument, this function has the same calling sequence and behavior as IOHandle_getSize.<p>
The returned value maybe tested with <a class="el" href="IOHandle_8h.html#3e3b12bc1dcb145585c4c14a30dc6dd5">NITF_IO_SUCCESS()</a><p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The offset from the beginning to the current position is set. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>segmentReader</em>&nbsp;</td><td>Associated SegmentReader </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>For error returns </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="1fe6499ba1e189f6936d8a50d6c5aa19"></a><!-- doxytag: member="SegmentReader.h::nitf_SegmentReader_read" ref="1fe6499ba1e189f6936d8a50d6c5aa19" args="(nitf_SegmentReader *segmentReader, NITF_DATA *buffer, size_t count, nitf_Error *error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NITF_BOOL nitf_SegmentReader_read           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__nitf__SegmentReader.html">nitf_SegmentReader</a> *&nbsp;</td>
          <td class="paramname"> <em>segmentReader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Types_8h.html#48f43327ee32e0535be07a7e945b13c4">NITF_DATA</a> *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnitf__Error.html">nitf_Error</a> *&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
nitf_SegmentReader_read - Read segment data 
<p>
The nitf_SegmentReader_read function reads data from the associated segment. The reading of the data is serial as if a flat file were being read by an input stream. Except for the first argument, this function has the same calling sequence and behavior as IOHandle_read.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE is returned on success. On error, the error object is set. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>segmentReader</em>&nbsp;</td><td>Associated SegmentReader </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Buffer to hold data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>count</em>&nbsp;</td><td>Amount of data to return </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>For error returns </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="3a5d9ec9bfe2391ccdf5df20bfc85b1a"></a><!-- doxytag: member="SegmentReader.h::nitf_SegmentReader_seek" ref="3a5d9ec9bfe2391ccdf5df20bfc85b1a" args="(nitf_SegmentReader *segmentReader, nitf_Off offset, int whence, nitf_Error *error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Types_8h.html#66716152d01135736bc6b7d2c416cd60">nitf_Off</a> nitf_SegmentReader_seek           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__nitf__SegmentReader.html">nitf_SegmentReader</a> *&nbsp;</td>
          <td class="paramname"> <em>segmentReader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Types_8h.html#66716152d01135736bc6b7d2c416cd60">nitf_Off</a>&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>whence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnitf__Error.html">nitf_Error</a> *&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
nitf_SegmentReader_seek - Seek in segment data 
<p>
The nitf_SegmentReader_seek function allows the user to seek within the extension data. Except for the first argument, this function has the same calling sequence and behaivior as IOHandle_seek. The offset is relative to the top of the segment data.<p>
The returned value maybe tested with <a class="el" href="IOHandle_8h.html#3e3b12bc1dcb145585c4c14a30dc6dd5">NITF_IO_SUCCESS()</a><p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The offset from the beginning to the current position is set. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>segmentReader</em>&nbsp;</td><td>Associated SegmentReader </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>The seek offset </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>whence</em>&nbsp;</td><td>Starting at (SEEK_SET, SEEK_CUR, SEEK_END) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>For error returns </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="7f9b1320044ce205570cad8e2d700519"></a><!-- doxytag: member="SegmentReader.h::nitf_SegmentReader_tell" ref="7f9b1320044ce205570cad8e2d700519" args="(nitf_SegmentReader *segmentReader, nitf_Error *error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Types_8h.html#66716152d01135736bc6b7d2c416cd60">nitf_Off</a> nitf_SegmentReader_tell           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__nitf__SegmentReader.html">nitf_SegmentReader</a> *&nbsp;</td>
          <td class="paramname"> <em>segmentReader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnitf__Error.html">nitf_Error</a> *&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
nitf_SegmentReader_tell - Tell location in segment data 
<p>
The nitf_SegmentReader_tell function allows the user to determine the current offset within the extension data. Except for the first argument, this function has the same calling sequence and behaivior as IOHandle_tell. The offset is relative to the top of the segment data.<p>
The returned value maybe tested with <a class="el" href="IOHandle_8h.html#3e3b12bc1dcb145585c4c14a30dc6dd5">NITF_IO_SUCCESS()</a><p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The offset from the beginning to the current position is set. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>segmentReader</em>&nbsp;</td><td>Associated SegmentReader </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>For error returns </td></tr>
  </table>
</dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Dec 9 19:26:50 2009 for NITF by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>NITRO/CODA C++ Modules: mt::Singleton&lt; T, AutoDestroy &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespacemt.html">mt</a>::<a class="el" href="classmt_1_1Singleton.html">Singleton</a>
  </div>
</div>
<div class="contents">
<h1>mt::Singleton&lt; T, AutoDestroy &gt; Class Template Reference</h1><!-- doxytag: class="mt::Singleton" -->Templated, thread-safe <a class="el" href="classmt_1_1Singleton.html" title="Templated, thread-safe Singleton.">Singleton</a>.  
<a href="classmt_1_1Singleton.html#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="Singleton_8h-source.html">Singleton.h</a>&gt;</code>
<p>

<p>
<a href="classmt_1_1Singleton-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static T &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmt_1_1Singleton.html#a0e53f1bd760ebaada1b992512111cad">getInstance</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmt_1_1Singleton.html#880fcb5174e94e4de3a0ef057ec96d39">destroy</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmt_1_1Singleton.html#38de64a9f831924e2ee24092a759324f">Singleton</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="classmt_1_1Singleton.html#38de64a9f831924e2ee24092a759324f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmt_1_1Singleton.html#b08233c5e180686d1b36df5f194b33f6">~Singleton</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="classmt_1_1Singleton.html#b08233c5e180686d1b36df5f194b33f6"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;typename T, bool AutoDestroy = false&gt;<br>
 class mt::Singleton&lt; T, AutoDestroy &gt;</h3>

Templated, thread-safe <a class="el" href="classmt_1_1Singleton.html" title="Templated, thread-safe Singleton.">Singleton</a>. 
<p>
The <a class="el" href="classmt_1_1Singleton.html" title="Templated, thread-safe Singleton.">Singleton</a> class guarantees that at any given time in an application's life cycle, only 1 instance of the templated object will be in existence. <a class="el" href="classmt_1_1Singleton.html" title="Templated, thread-safe Singleton.">Singleton</a> is a great way to implement the Manager design pattern.<p>
The <a class="el" href="classmt_1_1Singleton.html" title="Templated, thread-safe Singleton.">Singleton</a> takes in the Object class type as the first template parameter. So, for example, if you had a Logger class and you wanted only one instance of it throughout your program, you could do this:<p>
typedef mt::Singleton&lt;Logger&gt; LoggerManager; ... LoggerManager::getInstance().log("singleton log message");<p>
The second template parameter is a bool which denotes whether the <a class="el" href="classmt_1_1Singleton.html" title="Templated, thread-safe Singleton.">Singleton</a> should automatically destroy the owned object at program exit. By default, this flag is set to false, thus NOT destroying the internal object at exit. The public <a class="el" href="classmt_1_1Singleton.html#880fcb5174e94e4de3a0ef057ec96d39">destroy()</a> method of the <a class="el" href="classmt_1_1Singleton.html" title="Templated, thread-safe Singleton.">Singleton</a> can be used to manually destroy the singleton object. This lets the user facilitate how/when the <a class="el" href="classmt_1_1Singleton.html" title="Templated, thread-safe Singleton.">Singleton</a> gets destroyed.<p>
Most users will want to set AutoDestroy to true, since they want the memory to be freed up automatically at exit. Be careful when keeping AutoDestroy set to false, for this means that you, the user, are in charge of calling <a class="el" href="classmt_1_1Singleton.html#880fcb5174e94e4de3a0ef057ec96d39">destroy()</a> when you are finished using the <a class="el" href="classmt_1_1Singleton.html" title="Templated, thread-safe Singleton.">Singleton</a>. Going back to the previous example of a singleton Logger, here is how you would create one that gets destroyed at program exit:<p>
typedef mt::Singleton&lt;Logger, true&gt; LoggerManager;<p>
Notice that this implementation of the <a class="el" href="classmt_1_1Singleton.html" title="Templated, thread-safe Singleton.">Singleton</a> pattern uses the atexit method for deleting the singleton instance, rather than an auto_ptr. This is done b/c there is a valid use case the auto_ptr gets destroyed (as well as the underlying memory), but if the <a class="el" href="classmt_1_1Singleton.html" title="Templated, thread-safe Singleton.">Singleton</a> gets revived, the auto_ptr does NOT get recreated, and returns an invalid memory address. 
<p>Definition at line <a class="el" href="Singleton_8h-source.html#l00073">73</a> of file <a class="el" href="Singleton_8h-source.html">Singleton.h</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="38de64a9f831924e2ee24092a759324f"></a><!-- doxytag: member="mt::Singleton::Singleton" ref="38de64a9f831924e2ee24092a759324f" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , bool AutoDestroy = false&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmt_1_1Singleton.html">mt::Singleton</a>&lt; T, AutoDestroy &gt;::<a class="el" href="classmt_1_1Singleton.html">Singleton</a>           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, explicit, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>

<p>Definition at line <a class="el" href="Singleton_8h-source.html#l00091">91</a> of file <a class="el" href="Singleton_8h-source.html">Singleton.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="b08233c5e180686d1b36df5f194b33f6"></a><!-- doxytag: member="mt::Singleton::~Singleton" ref="b08233c5e180686d1b36df5f194b33f6" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , bool AutoDestroy = false&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmt_1_1Singleton.html">mt::Singleton</a>&lt; T, AutoDestroy &gt;::~<a class="el" href="classmt_1_1Singleton.html">Singleton</a>           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor. 
<p>

<p>Definition at line <a class="el" href="Singleton_8h-source.html#l00097">97</a> of file <a class="el" href="Singleton_8h-source.html">Singleton.h</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="880fcb5174e94e4de3a0ef057ec96d39"></a><!-- doxytag: member="mt::Singleton::destroy" ref="880fcb5174e94e4de3a0ef057ec96d39" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , bool AutoDestroy&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmt_1_1Singleton.html">mt::Singleton</a>&lt; T, AutoDestroy &gt;::destroy           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This attempts to destroy the internal singleton object. If it has already been destroyed, it does nothing. Usually you only should call this method if AutoDestroy is set to false. Otherwise, this method will get automatically called at program exit. 
<p>Definition at line <a class="el" href="Singleton_8h-source.html#l00126">126</a> of file <a class="el" href="Singleton_8h-source.html">Singleton.h</a>.</p>

<p>Referenced by <a class="el" href="Singleton_8h-source.html#l00107">mt::Singleton&lt; T, AutoDestroy &gt;::getInstance()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a0e53f1bd760ebaada1b992512111cad"></a><!-- doxytag: member="mt::Singleton::getInstance" ref="a0e53f1bd760ebaada1b992512111cad" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , bool AutoDestroy&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T &amp; <a class="el" href="classmt_1_1Singleton.html">mt::Singleton</a>&lt; T, AutoDestroy &gt;::getInstance           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the one and only instance of the object 
<p>Definition at line <a class="el" href="Singleton_8h-source.html#l00107">107</a> of file <a class="el" href="Singleton_8h-source.html">Singleton.h</a>.</p>

<p>References <a class="el" href="Singleton_8h-source.html#l00126">mt::Singleton&lt; T, AutoDestroy &gt;::destroy()</a>.</p>

<p>Referenced by <a class="el" href="Object_8hpp-source.html#l00054">nitf::Object&lt; nitf_TREEnumerator &gt;::releaseHandle()</a>, and <a class="el" href="Object_8hpp-source.html#l00062">nitf::Object&lt; nitf_TREEnumerator &gt;::setNative()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Singleton_8h-source.html">Singleton.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Dec 9 19:35:22 2009 for NITRO/CODA C++ Modules by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
